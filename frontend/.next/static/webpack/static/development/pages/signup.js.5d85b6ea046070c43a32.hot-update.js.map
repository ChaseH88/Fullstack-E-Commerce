{"version":3,"file":"static/webpack/static\\development\\pages\\signup.js.5d85b6ea046070c43a32.hot-update.js","sources":["webpack:///./components/Signup.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\n\r\n// Styled Component\r\nimport Form from \"./styles/Form\";\r\nimport Error from \"./ErrorMessage\";\r\n\r\n// Queries\r\nimport { CURRENT_USER_QUERY } from \"./User\";\r\n\r\n// Mutation\r\nconst SIGNUP_MUTATION = gql`\r\n  mutation SIGNUP_MUTATION($name: String!, $email: String!, $password: String!){\r\n    signup(name: $name, email: $email, password: $password){\r\n      id\r\n      email\r\n      name\r\n    }\r\n  }\r\n`\r\n\r\nclass Signup extends Component {\r\n  state = {\r\n    name: \"\",\r\n    password: \"\",\r\n    email: \"\"\r\n  }\r\n\r\n  // Update the state on user input\r\n  saveToState = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <Mutation mutation={SIGNUP_MUTATION} variables={this.state} refetchQueries={[\r\n        {query: CURRENT_USER_QUERY}\r\n      ]}>\r\n        {(signup, { error, loading }) => {\r\n      return (<Form method=\"POST\" onSubmit={async e =>{\r\n        e.preventDefault();\r\n        const res = await signup();\r\n        console.log(res);\r\n        this.setState({\r\n          name: \"\",\r\n          password: \"\",\r\n          email: \"\"\r\n        })\r\n      }}>\r\n        <fieldset disabled={loading} aria-busy={loading}>\r\n        <Error error={error} />\r\n          <h2>Signup for an account</h2>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n            <input type=\"email\" name=\"email\" placeholder=\"Email\" value={this.state.email} onChange={this.saveToState} />\r\n          </label>\r\n          <label htmlFor=\"name\">\r\n            Name\r\n            <input type=\"text\" name=\"name\" placeholder=\"Name\" value={this.state.name} onChange={this.saveToState} />\r\n          </label>\r\n          <label htmlFor=\"password\">\r\n            Password\r\n            <input type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.saveToState} />\r\n          </label>\r\n          <button type=\"submit\">Submit</button>\r\n        </fieldset>\r\n      </Form>)\r\n      }}\r\n      </Mutation>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Signup;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AASA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AAGA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;;;;AAnDA;AACA;AAqDA;;;;A","sourceRoot":""}